###############################################
# GRADLE - Configuração LEAN (Baixo Consumo)
# Otimizado para Local (4GB~8GB RAM) + CI
###############################################

############################
# 1. JVM CONFIG
############################
# Reduzido para 2GB para evitar estourar o swap/pagefile em máquinas com pouca RAM
# Mas mantendo o suficiente para o R8 não quebrar.
org.gradle.jvmargs=-Xms256m -Xmx2g \
  -XX:MaxMetaspaceSize=384m \
  -XX:+UseG1GC \
  -Dfile.encoding=UTF-8

# Kotlin daemon mais leve
kotlin.daemon.jvm.options=-Xmx1g -XX:MaxMetaspaceSize=256m

############################
# 2. PERFORMANCE & RECURSOS
############################
# Desabilitar daemon no CI, manter local
org.gradle.daemon=true
# Limitar a 1 worker para minimizar consumo de CPU e RAM simultâneo
org.gradle.workers.max=1

############################
# 3. CACHE & PARALELISMO
############################
# Desabilitar paralelismo para economizar RAM durante a compilação de múltiplos módulos
org.gradle.parallel=false
org.gradle.caching=true
org.gradle.configuration-cache=false

############################
# 4. KOTLIN
############################
kotlin.incremental=true
# Execução no processo do Gradle para economizar RAM do daemon separado, se possível
# Mas o daemon é mais estável para builds incrementais locais.
kotlin.compiler.execution.strategy=daemon

############################
# 5. ANDROID BUILD
############################
android.useAndroidX=true
android.enableJetifier=false
# R8 em modo full pode consumir mais, mas gera APKs menores
android.enableR8.fullMode=true

############################
# 6. NDK
############################
ndkVersion=23.1.7779620
